<div class="controller-favorites" data-controller="favorites">
<div class="session-card" >
<%= link_to activity_path(activity),  data: { favorites_target: "link" }, remote: true  do %>
  <div class="session-image" style="background-image: url(<%= activity.spot.photo.attached? ? cl_image_path(activity.spot.photo.key) : asset_path("surfer.jpg") %>)">
    <%= link_to activity_path(activity) do %>
      <div class="session-left">
        <div class="categorie-session">
          <span class="iconify" data-icon="arcticons:weather">soleil</span>
          <h6><%= activity.temp %>°</h6>
        </div>
        <div class="categorie-session">
          <span class="iconify" data-icon="carbon:temperature-water">eau</span>
          <h6><%= activity.water_temp %>°</h6>
        </div>
        <div class="categorie-session">
          <span class="iconify" data-icon="map:surfing">surfer</span>
          <h6><%= activity.participations_count %></h6>
        </div>
        <div class="categorie-session">
          <% waves_number = activity.wave_height * 2 %>
          <% waves_number.times do %>
            <span class="iconify" data-icon="carbon:wave-height">wave</span>
          <% end %>
        </div>
      </div>
    <% end %>
    <div class="session-right">
      <%= render 'shared/favoris', activity: activity %>
      <div class="session-flag">
        <% flag_color = activity.flag.downcase %>
        <% if flag_color == "green" %>
          <span class="iconify" data-icon="ooui:flag-rtl" style="color:#4CED52">flag</span>
        <% elsif flag_color == "yellow" %>
          <span class="iconify" data-icon="ooui:flag-rtl" style="color:#ffea00">flag</span>
        <% else  %>
          <span class="iconify" data-icon="ooui:flag-rtl" style="color:red">flag</span>
        <% end %>
      </div>
    </div>
  </div>
  <div class="session-bottom">
    <% months = ["Janvier", "Février", "Mars", "Avril", "Mai" , "Juin", "Juillet" , "Aout" , "Septembre", "Octobre", "Novembre", "Décembre"] %>
    <p> <%= activity.date_time_start.day %> &nbsp;</p>
    <p> <%= months[activity.date_time_start.month - 1] %> &nbsp;</p>
    <span class="pink"> ● &nbsp;</span>
    <p> <%=  %> <%= activity.spot.name %> &nbsp;</p>
  </div>
</div>
<% end %>
</div>

<style>
.favoris {
  z-index: 1000 !important;
}
</style>
